{% extends 'ecommerce/extends/header.html' %}
{%load static%}
{% block extrahead %}
<link rel="stylesheet" type="text/css" href="{% static 'css/uacct.css' %}">
{% endblock %}
{% block extrascript%}
<script>
    $("#up").disabled = true;
    $(document).ready(function(){
        $("#pwdtab").hide();
        $("#addrtab").hide();
    });
    function info(tab){
        if(tab=="acct")
        {
            $("#accttab").show();
            $("#pwdtab").hide();
            $("#addrtab").hide();
        }
        else if(tab=="pwd")
        {
            $("#pwdtab").show();
            $("#accttab").hide();
            $("#addrtab").hide();
        }
        else
        {
            $("#addrtab").show();
            $("#accttab").hide();
            $("#pwdtab").hide();
            
        }
    }
    function editAcc() {
        $("#fname").attr('disabled', false);
        $("#minitial").attr('disabled', false);
        $("#lname").attr('disabled', false);
        $("#uname").attr('disabled', false);
        $("#email").attr('disabled', false);
    }

</script>
{% endblock %}
{% block body %}
{% if user.is_authenticated %}
<div class="main-container mt-5">
    <div class="container ml-5 col-3 pull-left" >
        <div class="card ">
            <div class="card-header col-auto text-center">
                <strong>Real Name</strong>
            </div>

            <div class="card-body text-center">
                <strong>@username</strong>
            </div>
        </div>
        <div class="card mt-lg-5">
          <ul class="list-group list-group-flush">
              <li class="list-group-item"><a href="#" onclick="info(this.id);" id="acct" style="text-decoration: none;">Account</a></li>
              <li class="list-group-item"><a href="#" onclick="info(this.id);" id="pwd" style="text-decoration: none;">Password</a></li>
              <li class="list-group-item"><a href="#" onclick="info(this.id);" id="addr" style="text-decoration: none;">Address</a></li>
          </ul>
        </div>
    </div>
    <div id="accttab" class="container col-5 " >
        <div class="card">
            <div class="card-header"><strong class="p-3">ACCOUNT</strong><a href="#" onclick="editAcc();" class="pull-right" style="text-decoration: none;">EDIT</a></div>
            <div class = "card-body">
                <form method="POST">
                    {% csrf_token %}
                    <ul class="list-group list-group-flush">
                        <li  class="list-group-item d-inline-flex ">
                            <div class="col-3">First Name</div>
                            <input id="fname" name="fname" class="col-8" type="text" value="{{user.first_name}}" disabled />
                        </li>
                        <li  class="list-group-item d-inline-flex ">
                            <div class="col-3">Middle Initial</div>
                            <input id="minitial" name="minitial" class="col-8" type="text" value="{{user.middle_initial}}" disabled />
                        </li>
                        <li  class="list-group-item d-inline-flex ">
                            <div class="col-3">Last Name</div>
                            <input id="lname" name="lname" class="col-8" type="text" value="{{user.last_name}}" disabled />
                        </li>
                        <li  class="list-group-item d-inline-flex ">
                            <div class="col-3">Username</div>
                            <input id="uname" name="uname" class="col-8" type="text" value="{{user.username}}" disabled />
                        </li>
                        <li  class="list-group-item d-inline-flex ">
                            <div class="col-3">Email</div>
                            <input id="email" name="email" class="col-8" type="text" value="{{user.email}}" disabled />
                        </li>

                    </ul>
                    <div class="text-center mt-1 pt-2"><input type="submit" class="btn btn-primary" value="Save"/></div>
                </form>
            </div>
        </div>
    </div>
    <div id="pwdtab" class="container col-5 " >
        <div class="card">
            <div class="card-header"><strong class="p-3">PASSWORD</strong></div>
            <div class = "card-body">
                <form method="POST">
                {% csrf_token %}
                    <ul class="list-group list-group-flush">
                        <li class="list-group-item d-inline-flex ">
                            <div class="col-3">Current Password</div>
                            <input class="col-8" id="currpass" name="currpass" type="password" value=""/>
                        </li>
                        <li  class="list-group-item d-inline-flex ">
                            <div class="col-3">New Password</div>
                            <input class="col-8" id="pass1" name="pass1" type="password" value=""/>
                        </li>
                        <li class="list-group-item d-inline-flex ">
                            <div class="col-3">Verify Password</div>
                            <input class="col-8" id="pass2" name="pass2" type="password" value=""/>
                        </li>
                    </ul>
                </form>
                <div class="text-center mt-1 pt-2"><input type="submit" class="btn btn-primary" value="Save"/></div>
            </div>
        </div>
    </div>
    <div id="addrtab" class="container col-5 " >
        <div class="card">
            <div class="card-header"><strong class="p-3">ADDRESS</strong><a href="#" onclick="editAddr();" class="pull-right" style="text-decoration: none;">EDIT</a></div>
            <div class = "card-body">
                <div class = "card-subtitle"> <strong class="p-3"> Billing Address </strong>
                <ul class="list-group list-group-flush">
                    <li class=" d-inline-flex mt-1 ">
                        <div class="col-3">Address1</div>
                        <input class="col-8" type="text" value="{{user.bhouse_num}} {{user.bstreet}} {{user.bsubdivision}}"/>
                    </li>
                    <li class=" d-inline-flex mt-1">
                        <div class="col-3">Address2</div>
                        <input class="col-8" type="text" value="{{user.bcity}} {{user.bcountry}}"/>
                    </li>
                </ul>
                </div>
                <hr/>
                <div class = "card-subtitle mt-2"> <strong class="p-3"> Shipping Address </strong>
                <ul class="list-group list-group-flush">
                    <li class=" d-inline-flex mt-1">
                        <div class="col-3">Address1</div>
                        <input class="col-8" type="text" value="{{user.fname}}"/>
                    </li>
                    <li class="d-inline-flex mt-1">
                        <div class="col-3">Address2</div>
                        <input class="col-8" type="text" value="{{user.mname}}"/>
                    </li>
                </ul>
                </div>
                <div class="text-center mt-1 pt-2"><a href="#" class="btn btn-primary "><strong>SAVE</strong></a></div>
            </div>
        </div>
    </div>
   
</div>
{% endif %}
{% endblock %}

